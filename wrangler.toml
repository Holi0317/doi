# For more details on how to configure Wrangler, refer to:
# https://developers.cloudflare.com/workers/wrangler/configuration/

"$schema" = "node_modules/wrangler/config-schema.json"

name = "doi"
main = "src/index.ts"
compatibility_date = "2025-06-03"
compatibility_flags = ["enable_request_signal"]

[observability]
enabled = true

[version_metadata]
binding = "CF_VERSION_METADATA"

[[durable_objects.bindings]]
name = "STORAGE"
class_name = "StorageDO"

[[kv_namespaces]]
binding = "SESSION"
id = "b4bad374baa14366a481f67e8c9c09bb"

[[kv_namespaces]]
binding = "OAUTH_STATE"
id = "d07d0b6a0c16496d859002eedfa611e9"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["StorageDO"]
